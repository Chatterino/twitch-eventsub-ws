boost::json::result_for<{{struct.name}}, boost::json::value>::type tag_invoke(
    boost::json::try_value_to_tag<{{struct.name}}>, const boost::json::value &jvRoot)
{
    if (!jvRoot.is_object())
    {
        return boost::system::error_code{129, error::EXPECTED_OBJECT};
    }
    const auto &root = jvRoot.get_object();
{% for field in struct.members %}
    {% if field.member_type == MemberType.BASIC -%}
    {% include 'field-basic.tmpl' indent content %}
    {%- elif field.member_type == MemberType.VECTOR -%}
    {% include 'field-vector.tmpl' indent content %}
    {%- elif field.member_type == MemberType.OPTIONAL -%}
    {% include 'field-optional.tmpl' indent content %}
    {%- elif field.member_type == MemberType.OPTIONAL_VECTOR -%}
    {% include 'field-optional-vector.tmpl' indent content %}
    {%- endif -%}
{% endfor %}

    return {{struct.name}}{
{%- for field in struct.members %}
        {% if field.member_type == MemberType.BASIC -%}
        {% include 'initializer-basic.tmpl' indent content %}
        {%- elif field.member_type == MemberType.VECTOR -%}
        {% include 'initializer-vector.tmpl' indent content %}
        {%- elif field.member_type == MemberType.OPTIONAL -%}
        {% include 'initializer-optional.tmpl' indent content %}
        {%- elif field.member_type == MemberType.OPTIONAL_VECTOR -%}
        {% include 'initializer-optional-vector.tmpl' indent content %}
        {%- endif -%}
{% endfor %}
    };
}
